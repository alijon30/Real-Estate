import React from 'react';
import Card from './Card';

interface Listing {
    title: string;
    address: string;
    city: string;
    state: string;
    price : string;
    sale_type: string;
    home_type: string;
    bedrooms: string;
    bathrooms: string;
    sqft: string;
    photo_main: string;
    slug:string;
}

interface ListingProps{
    listings: Listing[];
}

const Listings: React.FC<ListingProps> = ({listings}) => {

    const getListings = () => {
        let listingsOnPage = listings.map((listing, index) => (
            <Card 
                key={index}
                title = {listing.title}
                address = {listing.address}
                city = {listing.city}
                state = {listing.state}
                price = {listing.price}
                sale_type = {listing.sale_type}
                home_type = {listing.home_type}
                bathrooms={listing.bathrooms}
                bedrooms = {listing.bedrooms}
                sqft = {listing.sqft}
                photo_main = {listing.photo_main}
                slug = {listing.slug}
            />
        )) 
        let result = [];

        // listings.map(listing => {
        //     return listingsOnPage.push(
        //         <Card
        //             title = {listing.title}
        //             address = {listing.address}
        //             city = {listing.city}
        //             state = {listing.state}
        //             price = {listing.price}
        //             sale_type = {listing.sale_type}
        //             home_type = {listing.home_type}
        //             bedrooms = {listing.bedrooms}
        //             sqft = {listing.sqft}
        //             photo_main = {listing.photo_main}
        //             slug = {listing.slug}
        //         />
        //     );
        // });
        for (let i = 0; i < listings.length ; i += 3){
            result.push(
                <div key={i} className='row'>
                    <div className='col-1-of-3'>
                        {listingsOnPage[i]}
                    </div>
                    <div className='col-1-of-3'>
                        {listingsOnPage[i+1] ? listingsOnPage[i+1] : null}
                    </div>
                    <div className='col-1-of-3'>
                        {listingsOnPage[i+2]? listingsOnPage[i+2] : null}
                    </div>
                </div>
            )
        }
        return result
    };



  return (
    <div>{getListings()}</div>
  )
}

export default Listings;
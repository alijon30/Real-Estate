import React from 'react'


interface PaginationProps {
    itemsPerPage: number;
    count: number;
    active: number;
    visitPage: (page: number) => void;
    previous: () => void;
    next: () => void;
    setActive: (page:number)=> void;
  }

const Pagination: React.FC<PaginationProps> = (props) => {

    const getNumbers = () => {
        let numbers = [];
        let itemsPerPage = props.itemsPerPage;
        let pageNumber = 1;

        for (let i=0; i< props.count; i += itemsPerPage){
            const page = pageNumber;
            let style = 'pagination__number';
            let content = null;

            if (props.active === page){
                style = 'pagination__number pagination__number--active';
                content = (
                    <div key={i} className={style}>
                        {pageNumber}
                    </div>
                );
            } else{
                content = (
                    <div key={i} onClick={()=> props.visitPage(page)} className={style}>
                        {pageNumber}
                    </div>
                );
            }

            numbers.push(content);
            pageNumber ++;
        }
        return numbers;
    };

  return (
    <div className='pagination'>
        <div onClick={()=> props.previous()} className='pagination__number'>
            Previous
        </div>
        {getNumbers()}
        <div onClick={()=> props.previous()} className='pagination__number'>
            Previous
        </div>
    </div>
  )
}

export default Pagination